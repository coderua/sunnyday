(function(e){function t(t){for(var a,o,c=t[0],s=t[1],u=t[2],d=0,l=[];d<c.length;d++)o=c[d],i[o]&&l.push(i[o][0]),i[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);h&&h(t);while(l.length)l.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,c=1;c<n.length;c++){var s=n[c];0!==i[s]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={app:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/sunnyday/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var h=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},3475:function(e,t,n){"use strict";var a=n("6e9f"),i=n.n(a);i.a},4187:function(e,t,n){"use strict";var a=n("5256"),i=n.n(a);i.a},"45e8":function(e,t,n){},"4ac7":function(e,t,n){"use strict";var a=n("a5af"),i=n.n(a);i.a},5256:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("spinner",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{size:"huge"}}),n("weather-app",{on:{showSpinner:e.showSpinner,hideSpinner:e.hideSpinner}})],1)},r=[],o=n("5b7e"),c=n.n(o),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["weather-app",{loading:e.loading}]},[e.loading?e._e():n("div",[n("search-field",{on:{searchByCity:e.fetchWeather,searchByLocation:e.fetchByLocation}}),e.error?n("div",{staticClass:"weather-app__error"},[e._v("\n      "+e._s(e.error)+"\n    ")]):e._e(),e.error?e._e():[n("weather-info",{attrs:{info:e.weatherForecast,"selected-period":e.selectedPeriod}}),n("weather-forecast-periods",{attrs:{periods:e.weatherForecast.weatherForecastPeriodList,day:e.selectedDay}}),n("weather-forecast-days",{attrs:{periods:e.weatherForecast.weatherForecastPeriodList,activeDay:e.selectedDay},on:{selectedDay:e.selectDay}})]],2)])},u=[],h=n("cebc"),d=(n("ac6a"),n("456d"),n("d225")),l=n("b0b4"),f=n("bc3a"),p=n.n(f),v=(n("28a5"),n("7618")),y={defaults:{services:{openweathermap:{default:!0,apiKey:"d29d92630313fdaccd0c9cd7c5d8666f",apiEndpoint:"https://api.openweathermap.org/data/2.5",lang:"en",units:"metric"}}},environment:{test:{}}},m=y,w={},b={environment:{},defaults:{}},g=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.warn("[ConfigService]: ".concat(t))},j=function(){var e="production";try{var t="production";"undefined"!==typeof t&&(e=t)}catch(n){g([n.message])}return e},O=function(e){var t=Object.assign(b,e),n=t.environment,a=t.defaults,i=function(e){return"object"===Object(v["a"])(e)},r=[n,a].some(i);if(!r)return g("The provided options are incorrect"),{};var o=j();return n[o]?Object.assign({},a,n[o]):a},_=function(e,t){var n=t.split(".");return n.reduce(function(e,t){if("object"===Object(v["a"])(e))return e[t]},e)},k=null;function M(){if(null!==k)return this;w=O(m),k=this}M.prototype.install=function(e){e.prototype.$configSevice=e.$configSevice=new M},M.prototype.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if("string"!==typeof e)throw new Error("Expected string key for getting configuration value. Got '".concat(Object(v["a"])(e),"'"));var n=_(w,e);return void 0===n&&void 0!==t?t:n};var W=new M,E=(n("5df3"),n("10ad"),n("308d")),C=n("6bb5"),D=n("013f"),P=n("4e2b"),S=n("ab0e"),x=n("a52d"),F=(n("ac4d"),n("8a81"),n("7f7f"),n("bd86")),I=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(d["a"])(this,e),Object(F["a"])(this,"_apiKey",""),Object(F["a"])(this,"_apiEndpoint",""),Object(F["a"])(this,"_httpClient",void 0),t.apiKey&&(this.apiKey=t.apiKey),t.apiEndpoint&&(this.apiEndpoint=t.apiEndpoint),t.httpClient&&(this.httpClient=t.httpClient)}return Object(l["a"])(e,[{key:"_checkApiKey",value:function(e){if(!e)throw new Error("[".concat(this.name,"]: Empty API key for the openweathermap.org service."));if(32!==e.length)throw new Error("[".concat(this.name,"]: Invalid API key for the openweathermap.org service."));return this}},{key:"_checkEndpoint",value:function(e){if(!e)throw new Error("[".concat(this.name,"]: Invalid API endpoint. Expected url."));return this}},{key:"_checkHttpClient",value:function(e){if(!e||"function"!==typeof e)throw new Error("[".concat(this.name,"]: Invalid HTTP Client."));return this}},{key:"apiKey",set:function(e){this._checkApiKey(e),this._apiKey=e},get:function(){return this._apiKey}},{key:"apiEndpoint",get:function(){return this._apiEndpoint},set:function(e){this._checkEndpoint(e),this._apiEndpoint=e}},{key:"httpClient",get:function(){return this._httpClient},set:function(e){this._checkHttpClient(e),this._httpClient=e}}],[{key:"createQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)return"";if("object"!==Object(v["a"])(e))throw new Error("[".concat(this.name,"]: createQuery(params) method expects first param to be type of 'Object'. Got '").concat(Object(v["a"])(e),"'."));return Object.keys(e).map(function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))}).join("&")}}]),e}(),A=I,T=(n("55dd"),n("0d6d"),Object.freeze({metric:{temperature:"C"},imperial:{temperature:"F"}})),q=T,B=function(e,t){return q[e]&&q[e][t]?q[e][t]:""},$=B,L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(d["a"])(this,e),K.set(this,{writable:!0,value:"metric"}),N.set(this,{writable:!0,value:""}),H.set(this,{writable:!0,value:0}),U.set(this,{writable:!0,value:0}),z.set(this,{writable:!0,value:0}),R.set(this,{writable:!0,value:0}),Q.set(this,{writable:!0,value:0}),G.set(this,{writable:!0,value:0}),J.set(this,{writable:!0,value:0}),Y.set(this,{writable:!0,value:""}),V.set(this,{writable:!0,value:""}),this.populate(t)}return Object(l["a"])(e,[{key:"populate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).forEach(function(n){e[n]=t[n]}),this}},{key:"getData",value:function(){return{dateTime:Object(S["a"])(this,H),description:Object(S["a"])(this,N),temp:Object(S["a"])(this,Q),tempMin:Object(S["a"])(this,G),tempMax:Object(S["a"])(this,J),cloudiness:Object(S["a"])(this,U),windSpeed:Object(S["a"])(this,z),humidity:Object(S["a"])(this,R),weatherIcon:Object(S["a"])(this,Y),condition:Object(S["a"])(this,V)}}},{key:"description",get:function(){return Object(S["a"])(this,N)},set:function(e){Object(x["a"])(this,N,e)}},{key:"dateTime",get:function(){return Object(S["a"])(this,H)},set:function(e){Object(x["a"])(this,H,e)}},{key:"cloudiness",get:function(){return Object(S["a"])(this,U)},set:function(e){Object(x["a"])(this,U,e)}},{key:"windSpeed",get:function(){return Object(S["a"])(this,z)},set:function(e){Object(x["a"])(this,z,e)}},{key:"humidity",get:function(){return Object(S["a"])(this,R)},set:function(e){Object(x["a"])(this,R,e)}},{key:"temp",get:function(){return Object(S["a"])(this,Q)},set:function(e){Object(x["a"])(this,Q,Math.round(e))}},{key:"tempMax",get:function(){return Object(S["a"])(this,J)},set:function(e){Object(x["a"])(this,J,Math.round(e))}},{key:"tempMin",get:function(){return Object(S["a"])(this,G)},set:function(e){Object(x["a"])(this,G,Math.round(e))}},{key:"weatherIcon",get:function(){return Object(S["a"])(this,Y)},set:function(e){Object(x["a"])(this,Y,e)}},{key:"condition",get:function(){return Object(S["a"])(this,V)},set:function(e){Object(x["a"])(this,V,e)}},{key:"units",get:function(){return Object(S["a"])(this,K)},set:function(e){Object(x["a"])(this,K,e)}},{key:"date",get:function(){return new Date(1e3*Object(S["a"])(this,H))}},{key:"day",get:function(){return this.date.getDay()}},{key:"temperatureUnit",get:function(){return $(Object(S["a"])(this,K),"temperature")}}]),e}(),K=new WeakMap,N=new WeakMap,H=new WeakMap,U=new WeakMap,z=new WeakMap,R=new WeakMap,Q=new WeakMap,G=new WeakMap,J=new WeakMap,Y=new WeakMap,V=new WeakMap,X=L,Z={2:[200,201,202,210,211,212,221,230,231,232],3:[300,301,302,310,311,312,313,314,321],5:[500,501,502,503,504,511,520,521,522,531],6:[600,601,602,611,612,613,615,616,620,621,622],7:[701,711,721,731,741,751,761,762,771,781],8:[800,801,802,803,804]},ee=Z,te=function(e){var t=parseInt(e/100,10);if(!(t in ee))return"wi wi-na";var n=e;if(-1===ee[t].indexOf(e)){var a=ee[t].reduce(function(t,n,a,i){return a&&Math.abs(i[t]-e)<Math.abs(n-e)?t:a},-1);n=ee[t][a]}return"wi wi-owm-".concat(n)},ne=te,ae=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(d["a"])(this,e),ie.set(this,{writable:!0,value:[]}),this.items=t}return Object(l["a"])(e,[{key:"add",value:function(e){return Object(S["a"])(this,ie).push(e),this}},{key:"sortByDate",value:function(){return Object(x["a"])(this,ie,Object(S["a"])(this,ie).sort(function(e,t){return e.dateTime-t.dateTime})),this}},{key:"getDailyItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(0===Object(S["a"])(this,ie).length)return Object(S["a"])(this,ie);var t=8,n=e*t,a=n+t;return Object(S["a"])(this,ie).slice(n,a)}},{key:"getFirstDailyItem",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.getDailyItems(e),a=0,i=n.length;a<i;a+=1)if(n[a].day===t)return n[a];return n[0]}},{key:"getApproximateDaysWeatherForecast",value:function(){var t=new e;if(!this.length)return t;var n=function(e,t){return{units:e.units,dateTime:e.dateTime,temp:e.temp+t.temp,tempMin:e.tempMin<t.tempMin?e.tempMin:t.tempMin,tempMax:e.tempMax>t.tempMax?e.tempMax:t.tempMax,cloudiness:e.cloudiness+t.cloudiness,windSpeed:e.windSpeed+t.windSpeed,humidity:e.humidity+t.humidity,condition:e.condition+t.condition,weatherIcon:""}},a=function(e,t){return{dateTime:e.dateTime,units:e.units,temp:Math.round(e.temp/t),tempMin:e.tempMin,tempMax:e.tempMax,cloudiness:Math.round(e.cloudiness/t),windSpeed:Math.round(e.windSpeed/t),humidity:Math.round(e.humidity/t),condition:Math.round(e.condition/t),weatherIcon:ne(Math.round(e.condition/t))}},i={};for(var r in Object(S["a"])(this,ie).forEach(function(e){var t=String(e.day);i[t]?(i[t].approxWeather=n(i[t].approxWeather,e.getData()),i[t].periodsCount+=1):i[t]={approxWeather:e.getData(),periodsCount:1}}),i){var o=a(i[r].approxWeather,i[r].periodsCount);t.add(new X(o))}return t.sortByDate()}},{key:"length",get:function(){return Object(S["a"])(this,ie).length}},{key:"items",get:function(){return Object(S["a"])(this,ie)},set:function(e){if(!Array.isArray(e)||e.length>0&&e.some(function(e){return!(e instanceof X)}))throw new Error("[WeatherForecastHoursList]: Invalid periods type. Expected 'Array' of 'WeatherForecastPeriod' instances got ".concat(Object(v["a"])(e)));Object(x["a"])(this,ie,e)}}]),e}(),ie=new WeakMap,re=ae,oe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"metric";Object(d["a"])(this,e),ce.set(this,{writable:!0,value:"metric"}),se.set(this,{writable:!0,value:""}),ue.set(this,{writable:!0,value:""}),he.set(this,{writable:!0,value:void 0}),Object(x["a"])(this,se,t),Object(x["a"])(this,ue,n),Object(x["a"])(this,ce,i),this.weatherForecastPeriodList=a}return Object(l["a"])(e,[{key:"city",get:function(){return Object(S["a"])(this,se)},set:function(e){Object(x["a"])(this,se,e)}},{key:"country",get:function(){return Object(S["a"])(this,ue)},set:function(e){Object(x["a"])(this,ue,e)}},{key:"weatherForecastPeriodList",get:function(){return Object(S["a"])(this,he)},set:function(e){if(e instanceof re)Object(x["a"])(this,he,e);else{if(!Array.isArray(e))throw new Error("[WeatherForecastHoursList]: Invalid periods type. Expected 'Array' of 'WeatherForecastPeriod' instances got ".concat(Object(v["a"])(e)));Object(x["a"])(this,he,new re(e))}}},{key:"location",get:function(){return Object(S["a"])(this,se)&&Object(S["a"])(this,ue)?"".concat(Object(S["a"])(this,se),", ").concat(Object(S["a"])(this,ue)):""}},{key:"units",get:function(){return Object(S["a"])(this,ce)}}]),e}(),ce=new WeakMap,se=new WeakMap,ue=new WeakMap,he=new WeakMap,de=oe,le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n="wi wi-owm-";if(t)if("d"===t||"n"===t)n+="d"===t?"day-":"night-";else{var a=new Date(1e3*t),i=a.getHours(),r=a.getMinutes(),o=a.getSeconds();n+=i>=3&&r>=1&&i<=17&&r<=59&&o<=59?"day-":"night-"}return"".concat(n).concat(e)},fe=le,pe=function(){function e(){Object(d["a"])(this,e)}return Object(l["a"])(e,null,[{key:"transform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"metric";if(!e||"object"!==Object(v["a"])(e)||!Object.keys(e).length)throw new Error("[OpenWeatherMapResponseToWeatherForecastTransformer]: Empty response data.");var n=e.list.map(function(e){var n={units:t,description:e.weather[0].description,dateTime:e.dt,temp:e.main.temp,tempMin:e.main.temp_min,tempMax:e.main.temp_max,cloudiness:e.clouds.all,windSpeed:e.wind.speed,humidity:e.main.humidity,weatherIcon:fe(e.weather[0].id,e.sys.pod),condition:e.weather[0].id};return new X(n)}).sort(function(e,t){return e.dateTime-t.dateTime});return new de(e.city.name,e.city.country,n,t)}}]),e}(),ve=pe,ye=Symbol("checkUnits"),me=Symbol("checkLang"),we=["standard","metric","imperial"],be=["ar","bg","ca","cz","de","el","en","fa","fi","fr","gl","hr","hu","it","ja","kr","la","lt","mk","nl","pl","pt","ro","ru","se","sk","sl","es","tr","ua","vi","zh_cn","zh_tw"],ge=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(d["a"])(this,t),e=Object(E["a"])(this,Object(C["a"])(t).call(this,n)),je.set(Object(D["a"])(e),{writable:!0,value:"metric"}),Oe.set(Object(D["a"])(e),{writable:!0,value:"en"}),n.units&&Object(x["a"])(Object(D["a"])(e),je,n.units),n.lang&&Object(x["a"])(Object(D["a"])(e),Oe,n.lang),e}return Object(P["a"])(t,e),Object(l["a"])(t,[{key:"getCurrentWeather",value:function(e){if(!this._isRequiredSearchParamsExist(e))return Promise.reject(new Error("Please specify the city or location"));var t="".concat(this._apiEndpoint,"/weather");return this._request("get",t,e)}},{key:"getFiveDayWeather",value:function(e){if(!this._isRequiredSearchParamsExist(e))return Promise.reject(new Error("Please specify the city or location"));var t="".concat(this._apiEndpoint,"/forecast");return this._request("get",t,e).then(function(e){return ve.transform(e)})}},{key:"_isRequiredSearchParamsExist",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!(e.q||e.lat&&e.lon)}},{key:"_request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"get",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return Promise.reject(new Error("[OpenWeatherMapAPIService]: Url is required."));this._checkApiKey(this._apiKey),this._checkHttpClient(this.httpClient);var a=A.createQuery(Object(h["a"])({appid:this._apiKey,units:Object(S["a"])(this,je),lang:Object(S["a"])(this,Oe)},n)),i=a?"".concat(t,"?").concat(a):t;return this.httpClient[e](i).then(function(e){return e.data})}},{key:ye,value:function(e){if(!e||!we[e])throw new Error("[OpenWeatherMapAPIService]: Invalid units value '".concat(e,"'. Available values are: ").concat(we.join(", ")));return this}},{key:me,value:function(e){if(!e||!be[e])throw new Error("[OpenWeatherMapAPIService]: Invalid lang value '".concat(e,"'. Available values are: ").concat(be.join(", ")));return this}},{key:"units",get:function(){return Object(S["a"])(this,je)},set:function(e){this[ye](e),Object(x["a"])(this,je,e)}},{key:"lang",get:function(){return Object(S["a"])(this,Oe)},set:function(e){this[me](e),Object(x["a"])(this,Oe,e)}}]),t}(A),je=new WeakMap,Oe=new WeakMap,_e=ge,ke=Object.freeze({openweathermap:_e}),Me=ke,We=function(){function e(){Object(d["a"])(this,e)}return Object(l["a"])(e,null,[{key:"create",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=t,a=W.get("services");if(n)e=a[n];else for(var i=Object.keys(a),r=0,o=i;r<o.length;r++){var c=o[r];if(a[c].default){e=a[c],n=c;break}}if(!e){var s=t?"Not found configuration for '".concat(n,"' Weather Forecast service"):"Not found default Weather Forecast service";throw new Error("[WeatherServiceFactory]: ".concat(s,"."))}return new Me[n](Object(h["a"])({},e,{httpClient:p.a.create()}))}}]),e}(),Ee=We,Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"search-field-form",on:{submit:function(t){return t.preventDefault(),e.searchByCity(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"search-field-form__input",attrs:{name:"search",type:"search",placeholder:"Enter location",autofocus:""},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}}),n("button",{staticClass:"search-field-form__search-by-city-button"},[e._v("Search")]),n("button",{staticClass:"search-field-form__search-by-location-button",attrs:{type:"button",title:"Current location"},on:{click:e.searchByLocation}},[e._v("⯐")])])},De=[],Pe={name:"SearchField",data:function(){return{query:""}},methods:{searchByCity:function(){var e=this.query.trim();0!==e.length&&this.$emit("searchByCity",{q:this.query.trim()})},searchByLocation:function(){this.$emit("searchByLocation")}}},Se=Pe,xe=(n("3475"),n("2877")),Fe=Object(xe["a"])(Se,Ce,De,!1,null,"e900c046",null),Ie=Fe.exports,Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"weather-forecast-days"},e._l(e.dailyForecasts,function(t,a){return n("weather-forecast-day-thumb",{key:t.dateTime,attrs:{activeDay:e.activeDay,weather:t,day:a}})}),1)},Te=[],qe=(n("c5f6"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"weather-forecast-day-thumb",class:{"--active":e.activeDay===e.day},on:{click:function(t){return e.selectDay(e.day,e.weather.day)}}},[n("div",{staticClass:"weather-forecast-day-thumb__day-name"},[e._v(e._s(e.dayName))]),n("div",{staticClass:"weather-forecast-day-thumb__icon"},[n("i",{class:[e.weather.weatherIcon]})]),n("div",{staticClass:"weather-forecast-day-thumb__temp-max"},[e._v("\n    "+e._s(e.weather.tempMax)+"° "+e._s(e.weather.temperatureUnit)+"\n  ")]),n("div",{staticClass:"weather-forecast-day-thumb__temp-min"},[e._v("\n    "+e._s(e.weather.tempMin)+"° "+e._s(e.weather.temperatureUnit)+"\n  ")])])}),Be=[],$e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=navigator.language||navigator.userLanguage;return e.toLocaleDateString(n,t)},Le=$e,Ke={name:"WeatherForecastDayThumb",props:{weather:{type:Object,required:!0,default:function(){return new X}},day:{type:Number,default:0},activeDay:{type:Number,default:0}},computed:{dayName:function(){return Le(this.weather.date,{weekday:"short"})}},methods:{selectDay:function(e,t){window.EventBus.$emit("selectedDay",{day:e,weekDay:t})}}},Ne=Ke,He=(n("e97a"),Object(xe["a"])(Ne,qe,Be,!1,null,"2c81ad38",null)),Ue=He.exports,ze={name:"WeatherForecastDays",components:{WeatherForecastDayThumb:Ue},props:{periods:{type:Object,required:!0,default:function(){return new de}},days:{type:Number,default:5},activeDay:{type:Number,default:0}},computed:{dailyForecasts:function(){return this.periods.getApproximateDaysWeatherForecast().items.slice(0,5)}}},Re=ze,Qe=(n("4187"),Object(xe["a"])(Re,Ae,Te,!1,null,"f0969d70",null)),Ge=Qe.exports,Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"weather-info"},[n("div",{staticClass:"weather-info__location"},[n("span",{staticClass:"weather-info__location__city"},[e._v(e._s(e.info.location))]),n("span",{staticClass:"weather-info__location__date"},[e._v(e._s(e.formattedDate))]),n("span",{staticClass:"weather-info__location__description"},[e._v(e._s(e.weather.description))])]),n("div",{staticClass:"weather-info__icon"},[n("i",{class:e.weather.weatherIcon})]),n("div",{staticClass:"weather-info__temperature"},[e._v("\n    "+e._s(e.weather.temp)+"° "),n("span",{staticClass:"weather-info__temperature__unit"},[e._v(e._s(e.weather.temperatureUnit))])])])},Ye=[],Ve={weekday:"long",hour:"numeric"},Xe={name:"WeatherInfo",props:{info:{type:Object,required:!0,default:function(){return new de}},selectedPeriod:{type:Object,required:!0,default:function(){return new X}}},computed:{weather:function(){return this.selectedPeriod},formattedDate:function(){return Le(this.weather.date,Ve)}}},Ze=Xe,et=(n("4ac7"),Object(xe["a"])(Ze,Je,Ye,!1,null,"625a052c",null)),tt=et.exports,nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"weather-forecast-periods"},e._l(e.weathers,function(t){return n("div",{key:t.dateTime,staticClass:"weather-forecast-periods__weather",on:{click:function(n){return e.selectPeriod(t)}}},[n("div",{staticClass:"weather-forecast-periods__hours"},[e._v(e._s(e.hours(t.date)))]),n("div",{staticClass:"weather-forecast-periods__icon"},[n("i",{class:[t.weatherIcon]})]),n("div",{staticClass:"weather-forecast-periods__temp"},[e._v(e._s(t.temp)+"°")])])}),0)},at=[],it={name:"WeatherForecastPeriods",props:{day:{type:Number,default:void 0},periods:{type:Object,required:!0,default:function(){return new re}}},computed:{weathers:function(){return this.periods.getDailyItems(this.day)}},methods:{hours:function(e){var t=e.getHours();return t<=9?"0".concat(t):t},selectPeriod:function(e){window.EventBus.$emit("selectedPeriod",e)}}},rt=it,ot=(n("aa63"),Object(xe["a"])(rt,nt,at,!1,null,"f9e7ae00",null)),ct=ot.exports,st=Ee.create(),ut={name:"WeatherApp",components:{WeatherForecastPeriods:ct,WeatherInfo:tt,SearchField:Ie,WeatherForecastDays:Ge},data:function(){return{city:"Warsaw",currentWeather:null,weatherForecast:void 0,selectedDay:0,selectedPeriod:void 0,loading:!0,error:!1}},created:function(){this.fetchByLocation(),window.EventBus.$on("selectedDay",this.selectDay),window.EventBus.$on("selectedPeriod",this.selectPeriod)},beforeDestroy:function(){window.EventBus.$off("selectedDay",this.selectDay),window.EventBus.$off("selectedPeriod",this.selectPeriod)},methods:{fetchByLocation:function(){var e=this;this.isOnline()&&"geolocation"in navigator&&(this.showSpinner(),navigator.geolocation.getCurrentPosition(function(t){e.fetchWeather({lat:t.coords.latitude,lon:t.coords.longitude})}))},fetchWeather:function(e){var t=this;this.isOnline()&&(this.error=!1,this.showSpinner(),st.getFiveDayWeather(e).then(function(e){t.weatherForecast=e,t.selectedPeriod=t.weatherForecast.weatherForecastPeriodList.getDailyItems(0)[0]}).catch(function(e){console.log("err",e.message),404===e.response.status&&(t.error=e.response.data.message)}).finally(function(){t.hideSpinner()}))},selectDay:function(e){var t=e.day,n=e.weekDay;this.selectedDay=t,this.selectedPeriod=this.weatherForecast.weatherForecastPeriodList.getFirstDailyItem(t,n)},selectPeriod:function(e){this.selectedPeriod=e},isOnline:function(){var e=navigator.onLine;return e||(this.error="You are offline. Please, connect to the Internet."),e},showSpinner:function(){this.loading||(this.loading=!0),this.$emit("showSpinner")},hideSpinner:function(){this.loading&&(this.loading=!1),this.$emit("hideSpinner")}}},ht=ut,dt=(n("94e5"),Object(xe["a"])(ht,s,u,!1,null,"5df2c8da",null)),lt=dt.exports;n("6672");var ft={name:"App",data:function(){return{loading:!0}},components:{Spinner:c.a,WeatherApp:lt},methods:{showSpinner:function(){this.loading||(this.loading=!0)},hideSpinner:function(){this.loading&&(this.loading=!1)}}},pt=ft,vt=Object(xe["a"])(pt,i,r,!1,null,null,null),yt=vt.exports;a["a"].config.productionTip=!1,window.EventBus=new a["a"],a["a"].use(W),new a["a"]({render:function(e){return e(yt)}}).$mount("#app")},6672:function(e,t,n){},"68b3":function(e,t,n){},"6e9f":function(e,t,n){},"94e5":function(e,t,n){"use strict";var a=n("68b3"),i=n.n(a);i.a},a5af:function(e,t,n){},aa63:function(e,t,n){"use strict";var a=n("45e8"),i=n.n(a);i.a},d7e3:function(e,t,n){},e97a:function(e,t,n){"use strict";var a=n("d7e3"),i=n.n(a);i.a}});
//# sourceMappingURL=app.4c75bd8a.js.map